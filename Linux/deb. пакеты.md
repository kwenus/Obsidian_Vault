#apt #Debian 
# Установка программ и пакетов формата .deb 

Для поиска, установки, обновления и удаления пакетов программ в Debian (и других основанных на нем ОС, в частности, Ubuntu) используется apt (**A**dvanced **P**ackaging **T**ool) ― это инструмент командной строки, который помогает взаимодействовать с программами. Этот пакетный менеджер был разработан для Debian, однако позже стал использоваться и в других дистрибутивах, основанных на нем.

Раньше использовалась команда **apt-get**. В последних версиях Debian произошло обновление, и есть возможность использовать просто apt. Инструмент **apt** совмещает функциональность **apt-get** и **apt-cache**. Старый вариант команды работает в современных системах. Для использования сложных сценариев всё ещё предпочтительнее использовать apt-get. Однако в своей инструкции мы будем использовать новый вариант, так как в этом случае он подходит лучше.

Синтаксис для работы с утилитой:
```
sudo apt опции команда имя_пакета
```
Команды apt для управления пакетами:
- download ― скачать, но не устанавливать пакет;
- update ― обновление информации о списках пакетов в репозиториях,
- upgrade ― обновление системы без удаления пакетов,
- full-upgrade ― полное обновление системы с удалением конфликтующих зависимостей,
- install ― установка пакета,
- remove ― удаление пакета, но без удаления конфигурационных файлов,
- purge ― полное удаление пакета,
- autoremove ― автоматическое удаление ненужных пакетов,
- search ― поиск пакета в локальной базе данных,
- show ― узнать информацию о пакете.

Основные опции:

- c ― сторонний конфигурационный файл,
- o ― строка конфигурации,
- t ― версия релиза, для которой устанавливать пакет,
- f ― выполнить операцию принудительно.

## Как установить deb-пакет на Ubuntu и Debian из официального репозитория

Установка программ в Debian и Ubuntu происходит одинаково.
1. 1.
    Обновите список пакетов:   
    ```
    sudo apt update
    ```
2.
Проверьте, есть ли пакеты для установки в наших репозиториях. Для этого введите команду:
```
apt search gimp
```
Вместо **gimp** вставьте название вашей программы.
Если вы видите, что программа есть в репозитории, ее можно установить. Также в списке вы увидите название пакета для установки:
![Как установить deb-пакет  1](https://img.reg.ru/faq/20210608_deb_paket_1.png)

Чтобы установить программу, введите:
```
sudo apt install gimp
```
1. Где вместо **gimp** укажите название нужной программы. В процессе загрузки система попросит у вас пароль и подтверждение установки.

Готово, вы установили сам пакет и все зависимости.
Если вам нужно установить несколько пакетов сразу, укажите названия через пробел.

## Как установить deb-пакет в Ubuntu и Debian, если его нет в репозитории

Не все пакеты deb находятся в репозитории. Любой разработчик может создать пакет и распространять его вне репозитория.
Для установки пакета мы будем использовать **dpkg**. Debian установка пакетов со стороннего сайта схожа с установкой Ubuntu.
Чтобы его установить:
1. 1.
    Скачайте deb-пакет. Например, мы будем устанавливать vivaldi.
    **Обратите внимание**, что пакет программы должен быть обязательно в формате .deb. Если программа распространяется в виде архива, распакуйте его.
2. 2.
    Перейдите в папку с установленным пакетом. Наш пакет находится в папке «Загрузки», чаще всего при скачивании программа попадает именно туда. Для входа в папку введите команду:
    ```
    cd ~/Загрузки/
    ```
- Если ваш файл находится в другой папке, вместо **/Загрузки/** введите нужную.
- 3.
    Установите пакет. Для этого введите:
    ```
    sudo dpkg -i vivaldi-stable_3.8.2259.42-1_amd64.deb
    ```
1. Где **vivaldi-stable_3.8.2259.42-1_amd64.deb** ― имя скачанного файла.
2. 4.
    Введите пароль.
3. 5.
    Дождитесь установки программы.
Готово, пакет установлен.

## Как посмотреть установленные пакеты в Debian и Ubuntu

Увидеть весь список пакетов, которые установлены в системе, можно в командной строке. Также можно сформировать его в отдельный файл.
Чтобы посмотреть в терминале, введите:
```
dpkg --get-selections
```
или
```
apt list --installed
```

Перед вами появится список:
![Как установить deb-пакет 2](https://img.reg.ru/faq/20210608_deb_paket_2.png)

![Как установить deb-пакет 3](https://img.reg.ru/faq/20210608_deb_paket_3.png)

Чтобы сформировать список в текстовом файле в корне пользовательского каталога с именем package.txt, введите:
```
dpkg --get-selections > ~/package.txt
```
Как правило, этот список очень длинный, поэтому найти название программы трудно. Если вы знаете примерное название программы, можно попробовать найти ее по ключевому слову. Для этого введите команду:
```
sudo apt list --installed | ключевое слово
```

## Как удалить пакеты

Чтобы удалить пакет, используйте команду:
```
sudo apt remove program_name
```
Где **program_name** ― это имя программы, которое нужно удалить.
Узнать точное имя команды можно в списке установленных пакетов.